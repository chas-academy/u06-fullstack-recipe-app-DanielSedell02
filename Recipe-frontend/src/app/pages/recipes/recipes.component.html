<div class="container mx-auto">
    <div class="flex flex-col items-center my-4">
        <h1 class="text-3xl font-bold mb-2">Search Recipes</h1>
        <p class="text-lg text-center mb-4">Search for recipes and filter them by diet and meal type</p>

        <input type="text" [(ngModel)]="searchterm" class="border border-gray-300 rounded-md px-4 py-2 mb-2 w-full md:w-80" placeholder="Search...">

        <div class="flex flex-col md:flex-row w-full mb-2">
            <select name="diet" [(ngModel)]="diet" class="border border-gray-300 rounded-md px-4 py-2 mb-2 md:mr-2 md:mb-0 w-1/2">
                <option value="" selected> no diet </option>
                @for(dietOption of dietOptions; track dietOption){
                    <option value="{{dietOption}}">{{dietOption}}</option>
                }
            </select>

            <select name="mealType" [(ngModel)]="mealType" class="border border-gray-300 rounded-md px-4 py-2 w-1/2">
                <option value="" selected> no meal Type </option>
                @for(mealTypeOption of mealTypeOptions; track mealTypeOption){
                    <option value="{{mealTypeOption}}">{{mealTypeOption}}</option>
                }
            </select>
        </div>

        <button (click)="searchRecipe()" class="bg-blue-500 text-white px-4 py-2 rounded-md">Get Recipes</button>
    </div>

    <div class="flex flex-wrap justify-center">
        @for(recipe of recipes; track recipe){
            <article class="flex flex-col items-center bg-white shadow-md rounded-md p-4 m-4 w-full md:w-1/2 lg:w-1/3">
                <h3>{{ recipe.label }}</h3>
                <img [src]="recipe.image" width="250" alt="{{ recipe.label }}">
                <p>Time to cook: {{ recipe.totalTime }}</p>
                <p><a [routerLink]="['/recipe', recipe.selfref | recipeformatter ]">Go to recipe</a></p>
            </article>
        } @empty {
            <p>There are no recipes...</p>
        }
    </div>
</div>